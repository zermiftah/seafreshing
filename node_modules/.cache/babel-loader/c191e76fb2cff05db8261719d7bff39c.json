{"ast":null,"code":"var _jsxFileName = \"M:\\\\Work\\\\seafreshing_create_kiosk(post)\\\\src\\\\components\\\\profileComponents\\\\Kiosk.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../screens/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Kiosk = () => {\n  _s();\n\n  const token = JSON.parse(localStorage.getItem('token'));\n  const [getKName, setKName] = useState([]);\n  const [getDName, setDName] = useState([]);\n  const [kioskName, setKioskName] = useState('');\n  const [kioskDomain, setKioskDomain] = useState('');\n  const [address, setAddress] = useState('');\n  const [province, setProvince] = useState([]);\n  const [regencies, setRegencies] = useState([]);\n  const [district, setDistrict] = useState([]);\n  const [village, setVillage] = useState([]);\n  const [prov, setProv] = useState('');\n  const [reg, setReg] = useState('');\n  const [dist, setDist] = useState('');\n  const [vill, setVill] = useState('');\n  const [zipcode, setZipCode] = useState('');\n  const [mobilenumber, setMobileNumber] = useState('');\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    getKioskName();\n  }, [kioskName]);\n\n  const getKioskName = async () => {\n    try {\n      let response = await axios.get(`http://103.102.152.201:3001/api/kiosk/check-name/${kioskName}`);\n      setKName(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getDomainName();\n  }, [kioskDomain]);\n\n  const getDomainName = async () => {\n    try {\n      let response = await axios.get(`http://103.102.152.201:3001/api/kiosk/check-domain/${kioskDomain}`);\n      setDName(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getProvince();\n  }, []);\n\n  const getProvince = async () => {\n    try {\n      let response = await axios.get('http://103.102.152.201:3001/api/list/province');\n      setProvince(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getRegencies();\n  }, [prov]);\n\n  const getRegencies = async () => {\n    try {\n      let response = await axios.get(`http://103.102.152.201:3001/api/list/regencies/${prov}`);\n      setRegencies(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getDisctrict();\n  }, [reg]);\n\n  const getDisctrict = async () => {\n    try {\n      let response = await axios.get(`http://103.102.152.201:3001/api/list/districts/${reg}`);\n      setDistrict(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getVillages();\n  }, [dist]);\n\n  const getVillages = async () => {\n    try {\n      let response = await axios.get(`http://103.102.152.201:3001/api/list/villages/${dist}`);\n      setVillage(response.data);\n    } catch (e) {\n      if (e) {\n        console.log(e);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  const handleCreateKiosk = async e => {\n    e.preventDefault();\n    setLoading(true);\n    let city = regencies.find(id => id.id === reg);\n    let dstrct = district.find(id => id.id === dist);\n    let vllgs = village.find(id => id.id === vill);\n    let prvnc = province.find(id => id.id === prov);\n    let today = new Date();\n    let date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n    let data = new FormData();\n    data.append('name', kioskName);\n    data.append('domain', kioskDomain);\n    data.append('search', kioskName);\n    data.append('fullAddress', address);\n    data.append('city', city.name);\n    data.append('zipcode', zipcode);\n    data.append('district', dstrct.name);\n    data.append('villages', vllgs.name);\n    data.append('province', prvnc.name);\n    data.append('mobilenumber', mobilenumber);\n    data.append('joinTime', date);\n\n    try {\n      let response = await axios.post('http://103.102.152.201:3001/api/kiosk/open-kiosk', data, {\n        headers: {\n          'auth-token': token\n        }\n      });\n\n      if (response.data) {\n        setLoading(false);\n        history.push('/kiosk');\n      }\n    } catch (e) {\n      if (e) {\n        console.log(e);\n        console.log(e.response.data);\n      } else if (e.response.data) {\n        console.log(e.response.data);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateKiosk,\n        className: \"row  form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Kiosk Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: kioskName,\n              onChange: e => setKioskName(e.target.value),\n              className: \"form-control\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 37\n            }, this), getKName ? getKName.code === 10 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: getKName.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success\",\n              children: getKName.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 49\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"An attractive name will be remembered by buyers.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"The name cannot be the same as other kiosks.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"The selected kiosk name cannot be edited.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Kiosk Domain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"seafreshing.com/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: kioskDomain,\n              onChange: e => setKioskDomain(e.target.value),\n              className: \"form-control\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 37\n            }, this), getDName ? getDName.code === 10 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: getDName.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success\",\n              children: getDName.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 49\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }, this), getKName && getDName ? getKName.code === 200 && getDName.code === 200 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Full Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: address,\n                onChange: e => setAddress(e.target.value),\n                className: \"form-control\",\n                type: \"text\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Provinsi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 53\n              }, this), province.length === 0 ? /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"No data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 61\n              }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: prov,\n                onChange: e => setProv(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Open this select menu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 65\n                }, this), province.map(province => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: province.id,\n                  children: province.name\n                }, province.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 73\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 45\n          }, this), prov && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Kota\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 61\n              }, this), regencies.length === 0 ? /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"No data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 69\n              }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: reg,\n                onChange: e => setReg(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Open this select menu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 73\n                }, this), regencies.map(regencies => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: regencies.id,\n                  children: regencies.name\n                }, regencies.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 81\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 53\n          }, this), reg && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Kecamatan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 61\n              }, this), district.length === 0 ? /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"No data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 69\n              }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: dist,\n                onChange: e => setDist(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Open this select menu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 73\n                }, this), district.map(district => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: district.id,\n                  children: district.name\n                }, district.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 81\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 53\n          }, this), dist && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Kelurahan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 61\n              }, this), village.length === 0 ? /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"No data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 69\n              }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: vill,\n                onChange: e => setVill(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Open this select menu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 73\n                }, this), village.map(village => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: village.id,\n                  children: village.name\n                }, village.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 81\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 53\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Zip Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: zipcode,\n                onChange: e => setZipCode(e.target.value),\n                className: \"form-control\",\n                type: \"text\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Mobile Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: mobilenumber,\n                onChange: e => setMobileNumber(e.target.value),\n                className: \"form-control\",\n                type: \"text\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Create Kiosk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true) : \"\" : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n\n_s(Kiosk, \"CJxQv/md8ih65LrbL+pgZueF5IA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Kiosk;\nexport default Kiosk;\n\nvar _c;\n\n$RefreshReg$(_c, \"Kiosk\");","map":{"version":3,"sources":["M:/Work/seafreshing_create_kiosk(post)/src/components/profileComponents/Kiosk.js"],"names":["axios","React","useEffect","useState","useHistory","Spinner","Kiosk","token","JSON","parse","localStorage","getItem","getKName","setKName","getDName","setDName","kioskName","setKioskName","kioskDomain","setKioskDomain","address","setAddress","province","setProvince","regencies","setRegencies","district","setDistrict","village","setVillage","prov","setProv","reg","setReg","dist","setDist","vill","setVill","zipcode","setZipCode","mobilenumber","setMobileNumber","loading","setLoading","history","getKioskName","response","get","data","e","console","log","getDomainName","getProvince","getRegencies","getDisctrict","getVillages","handleCreateKiosk","preventDefault","city","find","id","dstrct","vllgs","prvnc","today","Date","date","getFullYear","getMonth","getDate","FormData","append","name","post","headers","push","target","value","code","msg","length","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Spinner from '../../screens/Spinner';\r\n\r\nconst Kiosk = () => {\r\n    const token = JSON.parse(localStorage.getItem('token'));\r\n    const [getKName, setKName] = useState([]);\r\n    const [getDName, setDName] = useState([]);\r\n    const [kioskName, setKioskName] = useState('');\r\n    const [kioskDomain, setKioskDomain] = useState('');\r\n    const [address, setAddress] = useState('');\r\n    const [province, setProvince] = useState([]);\r\n    const [regencies, setRegencies] = useState([]);\r\n    const [district, setDistrict] = useState([]);\r\n    const [village, setVillage] = useState([]);\r\n    const [prov, setProv] = useState('');\r\n    const [reg, setReg] = useState('');\r\n    const [dist, setDist] = useState('');\r\n    const [vill, setVill] = useState('');\r\n    const [zipcode, setZipCode] = useState('');\r\n    const [mobilenumber, setMobileNumber] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        getKioskName();\r\n    }, [kioskName])\r\n\r\n    const getKioskName = async () => {\r\n        try {\r\n            let response = await axios.get(`http://103.102.152.201:3001/api/kiosk/check-name/${kioskName}`)\r\n            setKName(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getDomainName();\r\n    }, [kioskDomain])\r\n\r\n    const getDomainName = async () => {\r\n        try {\r\n            let response = await axios.get(`http://103.102.152.201:3001/api/kiosk/check-domain/${kioskDomain}`)\r\n            setDName(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProvince();\r\n    }, [])\r\n\r\n    const getProvince = async () => {\r\n        try {\r\n            let response = await axios.get('http://103.102.152.201:3001/api/list/province')\r\n            setProvince(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getRegencies();\r\n    }, [prov])\r\n\r\n    const getRegencies = async () => {\r\n        try {\r\n            let response = await axios.get(`http://103.102.152.201:3001/api/list/regencies/${prov}`)\r\n            setRegencies(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getDisctrict();\r\n    }, [reg])\r\n\r\n    const getDisctrict = async () => {\r\n        try {\r\n            let response = await axios.get(`http://103.102.152.201:3001/api/list/districts/${reg}`)\r\n            setDistrict(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getVillages();\r\n    }, [dist])\r\n\r\n    const getVillages = async () => {\r\n        try {\r\n            let response = await axios.get(`http://103.102.152.201:3001/api/list/villages/${dist}`)\r\n            setVillage(response.data);\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleCreateKiosk = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        let city = regencies.find(id => id.id === reg);\r\n        let dstrct = district.find(id => id.id === dist);\r\n        let vllgs = village.find(id => id.id === vill);\r\n        let prvnc = province.find(id => id.id === prov);\r\n        let today = new Date();\r\n        let date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n\r\n        let data = new FormData();\r\n        data.append('name', kioskName);\r\n        data.append('domain', kioskDomain);\r\n        data.append('search', kioskName);\r\n        data.append('fullAddress', address);\r\n        data.append('city', city.name);\r\n        data.append('zipcode', zipcode);\r\n        data.append('district', dstrct.name);\r\n        data.append('villages', vllgs.name);\r\n        data.append('province', prvnc.name);\r\n        data.append('mobilenumber', mobilenumber);\r\n        data.append('joinTime', date)\r\n\r\n        try {\r\n            let response = await axios.post('http://103.102.152.201:3001/api/kiosk/open-kiosk', data, {\r\n                headers: {\r\n                    'auth-token': token,\r\n                }\r\n            })\r\n            if (response.data) {\r\n                setLoading(false);\r\n                history.push('/kiosk');\r\n            }\r\n        } catch (e) {\r\n            if (e) {\r\n                console.log(e)\r\n                console.log(e.response.data)\r\n            } else if (e.response.data) {\r\n                console.log(e.response.data)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                loading ?\r\n                    <Spinner />\r\n                    :\r\n                    <>\r\n                        <form onSubmit={handleCreateKiosk} className=\"row  form-container\">\r\n                            <div className='col-md-6'>\r\n                                <div className=\"form\">\r\n                                    <label>Kiosk Name</label>\r\n                                    <input value={kioskName} onChange={(e) => setKioskName(e.target.value)} className=\"form-control\" type=\"text\" required />\r\n                                    {\r\n                                        getKName ?\r\n                                            getKName.code === 10 ?\r\n                                                <p className='text-danger'>{getKName.msg}</p>\r\n                                                :\r\n                                                <p className='text-success'>{getKName.msg}</p>\r\n                                            : \"\"\r\n                                    }\r\n                                    <p>An attractive name will be remembered by buyers.</p>\r\n                                    <p>The name cannot be the same as other kiosks.</p>\r\n                                    <p>The selected kiosk name cannot be edited.</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                                <div className=\"form\">\r\n                                    <div className='d-flex justify-content-between align-items-center'>\r\n                                        <label>Kiosk Domain</label>\r\n                                        <label>seafreshing.com/</label>\r\n                                    </div>\r\n                                    <input value={kioskDomain} onChange={(e) => setKioskDomain(e.target.value)} className=\"form-control\" type=\"text\" required />\r\n                                    {\r\n                                        getDName ?\r\n                                            getDName.code === 10 ?\r\n                                                <p className='text-danger'>{getDName.msg}</p>\r\n                                                :\r\n                                                <p className='text-success'>{getDName.msg}</p>\r\n                                            : \"\"\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                getKName && getDName ?\r\n                                    getKName.code === 200 && getDName.code === 200 ?\r\n                                        <>\r\n                                            <div className='col-md-6'>\r\n                                                <div className=\"form\">\r\n                                                    <label>Full Address</label>\r\n                                                    <input value={address} onChange={(e) => setAddress(e.target.value)} className=\"form-control\" type=\"text\" required />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className='col-md-6'>\r\n                                                <div className=\"form\">\r\n                                                    <label>Provinsi</label>\r\n                                                    {\r\n                                                        province.length === 0 ?\r\n                                                            <label>No data</label>\r\n                                                            :\r\n                                                            <select className='form-select' value={prov} onChange={(e) => setProv(e.target.value)} required>\r\n                                                                <option selected>Open this select menu</option>\r\n                                                                {\r\n                                                                    province.map(province => (\r\n                                                                        <option key={province.id} value={province.id}>{province.name}</option>\r\n                                                                    ))\r\n                                                                }\r\n                                                            </select>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                            {\r\n                                                prov && (\r\n                                                    <div className='col-md-6'>\r\n                                                        <div className=\"form\">\r\n                                                            <label>Kota</label>\r\n                                                            {\r\n                                                                regencies.length === 0 ?\r\n                                                                    <label>No data</label>\r\n                                                                    :\r\n                                                                    <select className='form-select' value={reg} onChange={(e) => setReg(e.target.value)} required>\r\n                                                                        <option selected>Open this select menu</option>\r\n                                                                        {\r\n                                                                            regencies.map(regencies => (\r\n                                                                                <option key={regencies.id} value={regencies.id}>{regencies.name}</option>\r\n                                                                            ))\r\n                                                                        }\r\n                                                                    </select>\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                reg && (\r\n                                                    <div className='col-md-6'>\r\n                                                        <div className=\"form\">\r\n                                                            <label>Kecamatan</label>\r\n                                                            {\r\n                                                                district.length === 0 ?\r\n                                                                    <label>No data</label>\r\n                                                                    :\r\n                                                                    <select className='form-select' value={dist} onChange={(e) => setDist(e.target.value)} required>\r\n                                                                        <option selected>Open this select menu</option>\r\n                                                                        {\r\n                                                                            district.map(district => (\r\n                                                                                <option key={district.id} value={district.id}>{district.name}</option>\r\n                                                                            ))\r\n                                                                        }\r\n                                                                    </select>\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                dist && (\r\n                                                    <div className='col-md-6'>\r\n                                                        <div className=\"form\">\r\n                                                            <label>Kelurahan</label>\r\n                                                            {\r\n                                                                village.length === 0 ?\r\n                                                                    <label>No data</label>\r\n                                                                    :\r\n                                                                    <select className='form-select' value={vill} onChange={(e) => setVill(e.target.value)} required>\r\n                                                                        <option selected>Open this select menu</option>\r\n                                                                        {\r\n                                                                            village.map(village => (\r\n                                                                                <option key={village.id} value={village.id}>{village.name}</option>\r\n                                                                            ))\r\n                                                                        }\r\n                                                                    </select>\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                            <div className='col-md-6'>\r\n                                                <div className=\"form\">\r\n                                                    <label>Zip Code</label>\r\n                                                    <input value={zipcode} onChange={(e) => setZipCode(e.target.value)} className=\"form-control\" type=\"text\" required />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className='col-md-6'>\r\n                                                <div className=\"form\">\r\n                                                    <label>Mobile Number</label>\r\n                                                    <input value={mobilenumber} onChange={(e) => setMobileNumber(e.target.value)} className=\"form-control\" type=\"text\" required />\r\n                                                </div>\r\n                                            </div>\r\n                                            <button type='submit'>Create Kiosk</button>\r\n                                        </>\r\n                                        :\r\n                                        \"\"\r\n                                    :\r\n                                    \"\"\r\n                            }\r\n                        </form>\r\n                    </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Kiosk"]},"metadata":{},"sourceType":"module"}