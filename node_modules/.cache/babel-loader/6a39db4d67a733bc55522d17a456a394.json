{"ast":null,"code":"var _jsxFileName = \"M:\\\\Work\\\\Seafresh\\\\User\\\\Frontend\\\\seafreshing\\\\src\\\\screens\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Header from \"./../components/Header\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  window.scrollTo(0, 0);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [notif, setNotif] = useState('');\n  const history = useHistory();\n\n  const handleLogin = async e => {\n    e.preventDefault();\n\n    const qs = require('qs');\n\n    let data = new FormData();\n    data.append('id', email);\n    data.append('password', password);\n\n    try {\n      let response = await axios.post('http://103.102.152.201:3001/api/user/login', data);\n\n      if (response.data) {\n        localStorage.setItem('token', JSON.stringify(response.data.token));\n        localStorage.setItem('user-data', JSON.stringify(response.data.user));\n        history.push('/HomeScreen');\n      }\n    } catch (e) {\n      if (e.response.data.msg) setNotif(e.response.data.msg);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex flex-column justify-content-center align-items-center login-center\",\n      children: [notif && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: notif\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: \"Login col-md-8 col-lg-4 col-11\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"32K/cJAfndMvzxVrZsj9EPuHHuQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useHistory","Header","axios","Login","window","scrollTo","email","setEmail","password","setPassword","notif","setNotif","history","handleLogin","e","preventDefault","qs","require","data","FormData","append","response","post","localStorage","setItem","JSON","stringify","token","user","push","msg","target","value"],"sources":["M:/Work/Seafresh/User/Frontend/seafreshing/src/screens/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Header from \"./../components/Header\";\r\nimport axios from 'axios'\r\n\r\nconst Login = () => {\r\n  window.scrollTo(0, 0);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [notif, setNotif] = useState('');\r\n  const history = useHistory();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const qs = require('qs');\r\n    let data = new FormData();\r\n    data.append('id', email);\r\n    data.append('password', password);\r\n\r\n    try {\r\n      let response = await axios.post('http://103.102.152.201:3001/api/user/login', data)\r\n      if (response.data) {\r\n        localStorage.setItem('token', JSON.stringify(response.data.token))\r\n        localStorage.setItem('user-data', JSON.stringify(response.data.user))\r\n        history.push('/HomeScreen')\r\n      }\r\n    } catch (e) {\r\n      if (e.response.data.msg) setNotif(e.response.data.msg);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"container d-flex flex-column justify-content-center align-items-center login-center\">\r\n        {\r\n          notif && (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              {notif}\r\n            </div>\r\n          )\r\n        }\r\n        <form onSubmit={handleLogin} className=\"Login col-md-8 col-lg-4 col-11\">\r\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n          <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n          <button type=\"submit\">Login</button>\r\n          <p>\r\n            <Link to={\"/register\"}>Create Account</Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMc,OAAO,GAAGZ,UAAU,EAA1B;;EAEA,MAAMa,WAAW,GAAG,MAAOC,CAAP,IAAa;IAC/BA,CAAC,CAACC,cAAF;;IACA,MAAMC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;IACA,IAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;IACAD,IAAI,CAACE,MAAL,CAAY,IAAZ,EAAkBd,KAAlB;IACAY,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBZ,QAAxB;;IAEA,IAAI;MACF,IAAIa,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAAW,4CAAX,EAAyDJ,IAAzD,CAArB;;MACA,IAAIG,QAAQ,CAACH,IAAb,EAAmB;QACjBK,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACH,IAAT,CAAcS,KAA7B,CAA9B;QACAJ,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACH,IAAT,CAAcU,IAA7B,CAAlC;QACAhB,OAAO,CAACiB,IAAR,CAAa,aAAb;MACD;IACF,CAPD,CAOE,OAAOf,CAAP,EAAU;MACV,IAAIA,CAAC,CAACO,QAAF,CAAWH,IAAX,CAAgBY,GAApB,EAAyBnB,QAAQ,CAACG,CAAC,CAACO,QAAF,CAAWH,IAAX,CAAgBY,GAAjB,CAAR;IAC1B;EACF,CAjBD;;EAmBA,oBACE;IAAA,wBACE,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAC,qFAAf;MAAA,WAEIpB,KAAK,iBACH;QAAK,SAAS,EAAC,oBAAf;QAAoC,IAAI,EAAC,OAAzC;QAAA,UACGA;MADH;QAAA;QAAA;QAAA;MAAA,QAHN,eAQE;QAAM,QAAQ,EAAEG,WAAhB;QAA6B,SAAS,EAAC,gCAAvC;QAAA,wBACE;UAAO,IAAI,EAAC,OAAZ;UAAoB,WAAW,EAAC,OAAhC;UAAwC,KAAK,EAAEP,KAA/C;UAAsD,QAAQ,EAAGQ,CAAD,IAAOP,QAAQ,CAACO,CAAC,CAACiB,MAAF,CAASC,KAAV,CAA/E;UAAiG,QAAQ;QAAzG;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,UAAZ;UAAuB,WAAW,EAAC,UAAnC;UAA8C,KAAK,EAAExB,QAArD;UAA+D,QAAQ,EAAGM,CAAD,IAAOL,WAAW,CAACK,CAAC,CAACiB,MAAF,CAASC,KAAV,CAA3F;UAA6G,QAAQ;QAArH;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE;UAAA,uBACE,QAAC,IAAD;YAAM,EAAE,EAAE,WAAV;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA,gBADF;AAsBD,CAhDD;;GAAM7B,K;UAKYH,U;;;KALZG,K;AAkDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}